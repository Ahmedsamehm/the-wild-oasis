import{a as E,j as t,L as q,d as v,V as P,g as V}from"./index-BP0JQ-U7.js";import{u as $}from"./index.esm-l2eRB0gM.js";import{u as R}from"./useMutation-EI1e8LqR.js";function A(s){const e=E.c(35),{isPending:l,Login:i}=s;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={defaultValues:{email:"ahmedsameh@test.com",password:"test"}},e[0]=r):r=e[0];const{handleSubmit:a,register:n,formState:j}=$(r),{errors:o}=j;let w;e[1]!==i?(w=async F=>{i(F)},e[1]=i,e[2]=w):w=e[2];const _=w;let c;e[3]!==a||e[4]!==_?(c=a(_),e[3]=a,e[4]=_,e[5]=c):c=e[5];let L,N;e[6]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx("legend",{className:"fieldset-legend",children:"Login"}),N=t.jsx("label",{className:"fieldset-label",children:"Email"}),e[6]=L,e[7]=N):(L=e[6],N=e[7]);let m;e[8]!==n?(m=n("email",{required:"Email is required"}),e[8]=n,e[9]=m):m=e[9];let d;e[10]!==m?(d=t.jsx("input",{...m,type:"email",className:"input w-full ",placeholder:"Email"}),e[10]=m,e[11]=d):d=e[11];let u;e[12]!==o.email?(u=o.email&&t.jsx("span",{className:"text-red-500",children:o.email.message}),e[12]=o.email,e[13]=u):u=e[13];let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=t.jsx("label",{className:"fieldset-label",children:"Password"}),e[14]=y):y=e[14];let f;e[15]!==n?(f=n("password",{required:"Password is required"}),e[15]=n,e[16]=f):f=e[16];let p;e[17]!==f?(p=t.jsx("input",{...f,type:"password",className:"input w-full ",placeholder:"Password"}),e[17]=f,e[18]=p):p=e[18];let g;e[19]!==o.password?(g=o.password&&t.jsx("span",{className:"text-red-500",children:o.password.message}),e[19]=o.password,e[20]=g):g=e[20];let x;e[21]!==l?(x=l?t.jsx(q,{}):"Login",e[21]=l,e[22]=x):x=e[22];let b;e[23]!==l||e[24]!==x?(b=t.jsx("button",{disabled:l,type:"submit",className:"btn btn-neutral mt-4",children:x}),e[23]=l,e[24]=x,e[25]=b):b=e[25];let h;e[26]!==p||e[27]!==g||e[28]!==b||e[29]!==d||e[30]!==u?(h=t.jsx("div",{className:"flex justify-center items-center min-h-screen  px-4 w-full  ",children:t.jsxs("fieldset",{className:"fieldset flex-1/2  max-w-xl   bg-base-200 border border-base-300 p-4 rounded-box ",children:[L,N,d,u,y,p,g,b]})}),e[26]=p,e[27]=g,e[28]=b,e[29]=d,e[30]=u,e[31]=h):h=e[31];let S;return e[32]!==h||e[33]!==c?(S=t.jsx(t.Fragment,{children:t.jsx("form",{onSubmit:c,children:h})}),e[32]=h,e[33]=c,e[34]=S):S=e[34],S}function M(){const s=E.c(5),e=v();let l;s[0]!==e?(l={mutationFn:z,onSuccess:n=>{var j;P.success("Login successful"),((j=n==null?void 0:n.user)==null?void 0:j.aud)==="authenticated"&&e("/")},onError:k},s[0]=e,s[1]=l):l=s[1];const{mutate:i,isPending:r}=R(l);let a;return s[2]!==i||s[3]!==r?(a={Login:i,isPending:r},s[2]=i,s[3]=r,s[4]=a):a=s[4],a}function k(s){P.error("Password or Email is incorrect"),console.log(s.message)}function z(s){return V(s)}function G(){const s=E.c(3),{Login:e,isPending:l}=M();let i;return s[0]!==e||s[1]!==l?(i=t.jsx(t.Fragment,{children:t.jsx(A,{isPending:l,Login:e})}),s[0]=e,s[1]=l,s[2]=i):i=s[2],i}export{G as default};
