import{b as c,V as o,f as m,j as e,L as u}from"./index-BxtrJGGV.js";import{u as d}from"./index.esm-Ev2gQmM6.js";import{u as g}from"./useMutation-B4qgwQtS.js";function x(){const i=c(),{mutate:n,isPending:a}=g({mutationFn:s=>m(s),onSuccess:s=>{var r;o.success("Login successful"),((r=s==null?void 0:s.user)==null?void 0:r.aud)==="authenticated"&&i("/")},onError:s=>{o.error("Password or Email is incorrect"),console.log(s.message)}});return{Login:n,isPending:a}}function f({isPending:i,Login:n}){const{handleSubmit:a,register:s,formState:{errors:r}}=d(),t=async l=>{n(l),console.log(l)};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:a(t),children:e.jsx("div",{className:"flex justify-center items-center min-h-screen  px-4 w-full  ",children:e.jsxs("fieldset",{className:"fieldset flex-1/2  max-w-xl   bg-base-200 border border-base-300 p-4 rounded-box ",children:[e.jsx("legend",{className:"fieldset-legend",children:"Login"}),e.jsx("label",{className:"fieldset-label",children:"Email"}),e.jsx("input",{...s("email",{required:"Email is required"}),type:"email",className:"input w-full ",placeholder:"Email"}),r.email&&e.jsx("span",{className:"text-red-500",children:r.email.message}),e.jsx("label",{className:"fieldset-label",children:"Password"}),e.jsx("input",{...s("password",{required:"Password is required"}),type:"password",className:"input w-full ",placeholder:"Password"}),r.password&&e.jsx("span",{className:"text-red-500",children:r.password.message}),e.jsx("button",{disabled:i,type:"submit",className:"btn btn-neutral mt-4",children:i?e.jsx(u,{}):"Login"})]})})})})}function h(){const{Login:i,isPending:n}=x();return e.jsx(e.Fragment,{children:e.jsx(f,{isPending:n,Login:i})})}export{h as default};
