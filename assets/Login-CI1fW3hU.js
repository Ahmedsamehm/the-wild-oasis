import{a as P,d as F,V as S,g as q,j as t,L as v}from"./index-BhIX1zWB.js";import{u as $}from"./index.esm-BMBVwSN9.js";import{u as R}from"./useMutation-BGCmmk80.js";function V(){const s=P.c(5),e=F();let l;s[0]!==e?(l={mutationFn:M,onSuccess:h=>{var r;S.success("Login successful"),((r=h==null?void 0:h.user)==null?void 0:r.aud)==="authenticated"&&e("/")},onError:A},s[0]=e,s[1]=l):l=s[1];const{mutate:i,isPending:a}=R(l);let n;return s[2]!==i||s[3]!==a?(n={Login:i,isPending:a},s[2]=i,s[3]=a,s[4]=n):n=s[4],n}function A(s){S.error("Password or Email is incorrect"),console.log(s.message)}function M(s){return q(s)}function k(s){const e=P.c(34),{isPending:l,Login:i}=s,{handleSubmit:a,register:n,formState:h}=$(),{errors:r}=h;let j;e[0]!==i?(j=async _=>{i(_)},e[0]=i,e[1]=j):j=e[1];const E=j;let o;e[2]!==a||e[3]!==E?(o=a(E),e[2]=a,e[3]=E,e[4]=o):o=e[4];let w,L;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx("legend",{className:"fieldset-legend",children:"Login"}),L=t.jsx("label",{className:"fieldset-label",children:"Email"}),e[5]=w,e[6]=L):(w=e[5],L=e[6]);let c;e[7]!==n?(c=n("email",{required:"Email is required"}),e[7]=n,e[8]=c):c=e[8];let m;e[9]!==c?(m=t.jsx("input",{...c,type:"email",className:"input w-full ",placeholder:"Email"}),e[9]=c,e[10]=m):m=e[10];let d;e[11]!==r.email?(d=r.email&&t.jsx("span",{className:"text-red-500",children:r.email.message}),e[11]=r.email,e[12]=d):d=e[12];let N;e[13]===Symbol.for("react.memo_cache_sentinel")?(N=t.jsx("label",{className:"fieldset-label",children:"Password"}),e[13]=N):N=e[13];let u;e[14]!==n?(u=n("password",{required:"Password is required"}),e[14]=n,e[15]=u):u=e[15];let f;e[16]!==u?(f=t.jsx("input",{...u,type:"password",className:"input w-full ",placeholder:"Password"}),e[16]=u,e[17]=f):f=e[17];let g;e[18]!==r.password?(g=r.password&&t.jsx("span",{className:"text-red-500",children:r.password.message}),e[18]=r.password,e[19]=g):g=e[19];let p;e[20]!==l?(p=l?t.jsx(v,{}):"Login",e[20]=l,e[21]=p):p=e[21];let x;e[22]!==l||e[23]!==p?(x=t.jsx("button",{disabled:l,type:"submit",className:"btn btn-neutral mt-4",children:p}),e[22]=l,e[23]=p,e[24]=x):x=e[24];let b;e[25]!==f||e[26]!==g||e[27]!==x||e[28]!==m||e[29]!==d?(b=t.jsx("div",{className:"flex justify-center items-center min-h-screen  px-4 w-full  ",children:t.jsxs("fieldset",{className:"fieldset flex-1/2  max-w-xl   bg-base-200 border border-base-300 p-4 rounded-box ",children:[w,L,m,d,N,f,g,x]})}),e[25]=f,e[26]=g,e[27]=x,e[28]=m,e[29]=d,e[30]=b):b=e[30];let y;return e[31]!==b||e[32]!==o?(y=t.jsx(t.Fragment,{children:t.jsx("form",{onSubmit:o,children:b})}),e[31]=b,e[32]=o,e[33]=y):y=e[33],y}function D(){const s=P.c(3),{Login:e,isPending:l}=V();let i;return s[0]!==e||s[1]!==l?(i=t.jsx(t.Fragment,{children:t.jsx(k,{isPending:l,Login:e})}),s[0]=e,s[1]=l,s[2]=i):i=s[2],i}export{D as default};
